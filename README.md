# –£–¥–æ–±–Ω—ã–π Telegram-–±–æ—Ç –∏ scrapper –¥–ª—è –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–µ–±-—Ä–µ—Å—É—Ä—Å–æ–≤ (GitHub, StackOverflow)  

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

1. **Docker Compose**  
   –ò–∑ –∫–æ—Ä–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
   ```bash
   docker‚Äêcompose up -d
    ````

–ü–æ–¥–Ω–∏–º–µ—Ç:

* PostgreSQL (–ø–æ—Ä—Ç 5433)
* Redis (–ø–æ—Ä—Ç 6379)
* Redis Insight (–ø–æ—Ä—Ç 8001)
* Zookeeper (–ø–æ—Ä—Ç 2181)
* Kafka-–±—Ä–æ–∫–µ—Ä—ã (–ø–æ—Ä—Ç 19092/29092)
* Kafka UI (–ø–æ—Ä—Ç 8084)

2. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ö–µ–º—ã –ë–î**
   –í –ø–∞–ø–∫–µ `init/` –ª–µ–∂–∏—Ç `init.sql`:

   ```sql
   -- —Å–æ–∑–¥–∞—ë—Ç —Ä–æ–ª—å scrapper_user –∏ —Å—Ö–µ–º—É scrapper_schema, –≤—ã–¥–∞—ë—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏
   ```

   Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä PostgreSQL –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç —ç—Ç–∏ —Å–∫—Ä–∏–ø—Ç—ã –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ.
3. **–ó–∞–ø—É—Å–∫ Scrapper-—Å–µ—Ä–≤–∏—Å–∞**

4. **–ó–∞–ø—É—Å–∫ Telegram-–±–æ—Ç–∞**


---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   Kafka / HTTP   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   Telegram API
‚îÇ   Scrapper  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ ‚îÇ     Bot     ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ —á–∞—Ç —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ                               ‚îÇ
       ‚îÇ                               ‚îÇ
       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ PostgreSQL         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ Redis 
```

* **Bot** ‚Äì —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, FSM-–¥–∏–∞–ª–æ–≥, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏.
* **Scrapper** ‚Äì –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π (–º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–π) –æ–ø—Ä–æ—Å API GitHub/StackOverflow, –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏–π.

---

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

* **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π** —á–µ—Ä–µ–∑ Apache Kafka –∏–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –ø–æ HTTP (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è).
* **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –∫–æ–º–∞–Ω–¥—ã `/list` –∏ `/links_by_tag` –≤ Redis —Å TTL 10 –º–∏–Ω—É—Ç.
* **–†–µ–∂–∏–º—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**:
    * *Immediate*: —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å—Ä–∞–∑—É –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏.
    * *Daily Digest*: —Å–±–æ—Ä –≤ Redis –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ–¥–Ω–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é.
* **–ë–∞—Ç—á–∏–Ω–≥ –∏ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å** –≤ Scrapper:
    * `app.update.processor-type` = `SEQUENTIAL` | `PARALLEL`
    * `app.update.thread-count` = —á–∏—Å–ª–æ –ø–æ—Ç–æ–∫–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 4)
    * `app.update.batch-limit` = –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1000)
* **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤**:
    * –í Scrapper: `app.update.dispatcher-type` = `HTTP` | `KAFKA`
    * –î–æ—Å—Ç—É–ø –∫ –ë–î: `access-type` = `ORM` –∏–ª–∏ `SQL`
---

## –ö–æ–º–∞–Ω–¥—ã Telegram-–±–æ—Ç–∞

| –ö–æ–º–∞–Ω–¥–∞                     | –û–ø–∏—Å–∞–Ω–∏–µ                              |
|-----------------------------|---------------------------------------|
| `/start`                    | —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è              |
| `/help`                     | —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥               |
| `/track` ‚Üí —Å—Å—ã–ª–∫–∞           | –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—É—é —Å—Å—ã–ª–∫—É         |
| `/untrack` ‚Üí —Å—Å—ã–ª–∫–∞         | —É–±—Ä–∞—Ç—å —Å—Å—ã–ª–∫—É –∏–∑ –ø–æ–¥–ø–∏—Å–æ–∫             |
| `/list`                     | –≤—Å–µ —Ç–µ–∫—É—â–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏                  |
| `/add_tag` ‚Üí —Ç–µ–≥, —Å—Å—ã–ª–∫–∞    | –ø—Ä–∏–≤—è–∑–∞—Ç—å —Ç–µ–≥ –∫ —Å—Å—ã–ª–∫–µ                |
| `/delete_tag` ‚Üí —Ç–µ–≥, —Å—Å—ã–ª–∫–∞ | —É–¥–∞–ª–∏—Ç—å —Ç–µ–≥                           |
| `/links_by_tag` ‚Üí —Ç–µ–≥       | —Å–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫ –ø–æ —Ç–µ–≥—É                 |
| `/delete_links_by_tag`‚Üí—Ç–µ–≥  | —É–¥–∞–ª–∏—Ç—å –≤—Å–µ —Å—Å—ã–ª–∫–∏ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Ç–µ–≥–∞    |
| `/get_mode`                 | –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π    |
| `/set_immediate`            | –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è |
| `/set_daily_digest`         | –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –¥–∞–π–¥–∂–µ—Å—Ç    |
| `/set_digest_hour` ‚Üí —á–∞—Å    | —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–∞—Å –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–π–¥–∂–µ—Å—Ç–∞     |
| `/unregister`               | –æ—Ç–ø–∏—Å–∞—Ç—å—Å—è –æ—Ç –≤—Å–µ—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ –±–æ—Ç–∞ |

---

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

1. **Swagger UI**

    * Bot ‚Äì `http://localhost:8080/swagger-ui`
    * Scrapper ‚Äì `http://localhost:8081/swagger-ui`

2. **Kafka UI**
   `http://localhost:8084` ‚Äì –ø—Ä–æ—Å–º–æ—Ç—Ä —Ç–æ–ø–∏–∫–æ–≤ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π.

3. **Redis Insight**
   `http://localhost:8001` ‚Äì –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–ª—é—á–µ–π –¥–∞–π–¥–∂–µ—Å—Ç–∞ –∏ –∫—ç—à–∞.
